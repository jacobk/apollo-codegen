{"version":3,"sources":["../../src/swift/language.js"],"names":["classDeclaration","structDeclaration","propertyDeclaration","propertyDeclarations","protocolDeclaration","protocolPropertyDeclaration","protocolPropertyDeclarations","escapeIdentifierIfNeeded","generator","closure","className","modifiers","superClass","adoptedProtocols","properties","printNewlineIfNeeded","printNewline","print","pushScope","typeName","withinBlock","popScope","structName","description","printOnNewline","propertyName","forEach","property","protocolName","reservedKeywords","identifier","has"],"mappings":"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","file":"language.js","sourcesContent":["import {\n  join,\n  wrap,\n} from '../utilities/printing';\n\nexport function classDeclaration(generator, { className, modifiers, superClass, adoptedProtocols = [], properties }, closure) {\n  generator.printNewlineIfNeeded();\n  generator.printNewline();\n  generator.print(wrap('', join(modifiers, ' '), ' '));\n  generator.print(`class ${ className }`);\n  generator.print(wrap(': ', join([superClass, ...adoptedProtocols], ', ')));\n  generator.pushScope({ typeName: className });\n  generator.withinBlock(closure);\n  generator.popScope();\n}\n\nexport function structDeclaration(generator, { structName, description, adoptedProtocols = [] }, closure) {\n  generator.printNewlineIfNeeded();\n  generator.printOnNewline(description && `/// ${description}`);\n  generator.printOnNewline(`public struct ${structName}`);\n  generator.print(wrap(': ', join(adoptedProtocols, ', ')));\n  generator.pushScope({ typeName: structName });\n  generator.withinBlock(closure);\n  generator.popScope();\n}\n\nexport function propertyDeclaration(generator, { propertyName, typeName, description }) {\n  generator.printOnNewline(`public let ${propertyName}: ${typeName}`);\n  generator.print(description && ` /// ${description}`);\n}\n\nexport function propertyDeclarations(generator, properties) {\n  if (!properties) return;\n  properties.forEach(property => propertyDeclaration(generator, property));\n}\n\nexport function protocolDeclaration(generator, { protocolName, adoptedProtocols, properties }, closure) {\n  generator.printNewlineIfNeeded();\n  generator.printOnNewline(`public protocol ${protocolName}`);\n  generator.print(wrap(': ', join(adoptedProtocols, ', ')));\n  generator.pushScope({ typeName: protocolName });\n  generator.withinBlock(closure);\n  generator.popScope();\n}\n\nexport function protocolPropertyDeclaration(generator, { propertyName, typeName }) {\n  generator.printOnNewline(`var ${propertyName}: ${typeName} { get }`);\n}\n\nexport function protocolPropertyDeclarations(generator, properties) {\n  if (!properties) return;\n  properties.forEach(property => protocolPropertyDeclaration(generator, property));\n}\n\nconst reservedKeywords = new Set(['associatedtype', 'class', 'deinit', 'enum', 'extension',\n  'fileprivate', 'func', 'import', 'init', 'inout', 'internal', 'let', 'open',\n  'operator', 'private', 'protocol', 'public', 'static', 'struct', 'subscript',\n  'typealias', 'var', 'break', 'case', 'continue', 'default', 'defer', 'do',\n  'else', 'fallthrough', 'for', 'guard', 'if', 'in', 'repeat', 'return',\n  'switch', 'where', 'while', 'as', 'Any', 'catch', 'false', 'is', 'nil',\n  'rethrows', 'super', 'self', 'Self', 'throw', 'throws', 'true', 'try',\n  'associativity', 'convenience', 'dynamic', 'didSet', 'final', 'get', 'infix',\n  'indirect', 'lazy', 'left', 'mutating', 'none', 'nonmutating', 'optional',\n  'override', 'postfix', 'precedence', 'prefix', 'Protocol', 'required', 'right',\n  'set', 'Type', 'unowned', 'weak', 'willSet']);\n\nexport function escapeIdentifierIfNeeded(identifier) {\n  if (reservedKeywords.has(identifier)) {\n    return '`' + identifier + '`';\n  } else {\n    return identifier;\n  }\n}\n"]}